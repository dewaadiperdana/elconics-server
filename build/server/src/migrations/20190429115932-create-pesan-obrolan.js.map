{"version":3,"sources":["../../../../api/server/src/migrations/20190429115932-create-pesan-obrolan.js"],"names":["module","exports","up","queryInterface","Sequelize","sequelize","query","then","createTable","id","allowNull","primaryKey","type","UUID","defaultValue","literal","id_ruang_obrolan","references","model","key","as","id_pengguna","isi_pesan","TEXT","tanggal","DATE","created_at","updated_at","down","dropTable"],"mappings":"AAAA;;AACAA,MAAM,CAACC,OAAP,GAAiB;AACfC,EAAAA,EAAE,EAAE,YAACC,cAAD,EAAiBC,SAAjB,EAA+B;AACjC,WAAOD,cAAc,CAACE,SAAf,CAAyBC,KAAzB,CAA+B,6CAA/B,EACJC,IADI,CACC,YAAM;AACV,aAAOJ,cAAc,CAACK,WAAf,CAA2B,eAA3B,EAA4C;AACjDC,QAAAA,EAAE,EAAE;AACFC,UAAAA,SAAS,EAAE,KADT;AAEFC,UAAAA,UAAU,EAAE,IAFV;AAGFC,UAAAA,IAAI,EAAER,SAAS,CAACS,IAHd;AAIFC,UAAAA,YAAY,EAAEV,SAAS,CAACW,OAAV,CAAkB,oBAAlB;AAJZ,SAD6C;AAOjDC,QAAAA,gBAAgB,EAAE;AAChBJ,UAAAA,IAAI,EAAER,SAAS,CAACS,IADA;AAEhBI,UAAAA,UAAU,EAAE;AACVC,YAAAA,KAAK,EAAE,eADG;AAEVC,YAAAA,GAAG,EAAE,IAFK;AAGVC,YAAAA,EAAE,EAAE;AAHM;AAFI,SAP+B;AAejDC,QAAAA,WAAW,EAAE;AACXT,UAAAA,IAAI,EAAER,SAAS,CAACS,IADL;AAEXI,UAAAA,UAAU,EAAE;AACVC,YAAAA,KAAK,EAAE,UADG;AAEVC,YAAAA,GAAG,EAAE,IAFK;AAGVC,YAAAA,EAAE,EAAE;AAHM;AAFD,SAfoC;AAuBjDE,QAAAA,SAAS,EAAE;AACTV,UAAAA,IAAI,EAAER,SAAS,CAACmB;AADP,SAvBsC;AA0BjDC,QAAAA,OAAO,EAAE;AACPZ,UAAAA,IAAI,EAAER,SAAS,CAACqB;AADT,SA1BwC;AA6BjDC,QAAAA,UAAU,EAAE;AACVhB,UAAAA,SAAS,EAAE,KADD;AAEVE,UAAAA,IAAI,EAAER,SAAS,CAACqB,IAFN;AAGVX,UAAAA,YAAY,EAAEV,SAAS,CAACW,OAAV,CAAkB,OAAlB;AAHJ,SA7BqC;AAkCjDY,QAAAA,UAAU,EAAE;AACVjB,UAAAA,SAAS,EAAE,KADD;AAEVE,UAAAA,IAAI,EAAER,SAAS,CAACqB,IAFN;AAGVX,UAAAA,YAAY,EAAEV,SAAS,CAACW,OAAV,CAAkB,OAAlB;AAHJ;AAlCqC,OAA5C,CAAP;AAwCD,KA1CI,CAAP;AA2CD,GA7Cc;AA8Cfa,EAAAA,IAAI,EAAE,cAACzB,cAAD,EAAiBC,SAAjB,EAA+B;AACnC,WAAOD,cAAc,CAAC0B,SAAf,CAAyB,eAAzB,CAAP;AACD;AAhDc,CAAjB","sourcesContent":["'use strict';\nmodule.exports = {\n  up: (queryInterface, Sequelize) => {\n    return queryInterface.sequelize.query('CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";')\n      .then(() => {\n        return queryInterface.createTable('pesan_obrolan', {\n          id: {\n            allowNull: false,\n            primaryKey: true,\n            type: Sequelize.UUID,\n            defaultValue: Sequelize.literal('uuid_generate_v4()')\n          },\n          id_ruang_obrolan: {\n            type: Sequelize.UUID,\n            references: {\n              model: 'ruang_obrolan',\n              key: 'id',\n              as: 'id_ruang_obrolan'\n            }\n          },\n          id_pengguna: {\n            type: Sequelize.UUID,\n            references: {\n              model: 'pengguna',\n              key: 'id',\n              as: 'id_pengguna'\n            }\n          },\n          isi_pesan: {\n            type: Sequelize.TEXT\n          },\n          tanggal: {\n            type: Sequelize.DATE\n          },\n          created_at: {\n            allowNull: false,\n            type: Sequelize.DATE,\n            defaultValue: Sequelize.literal('NOW()')\n          },\n          updated_at: {\n            allowNull: false,\n            type: Sequelize.DATE,\n            defaultValue: Sequelize.literal('NOW()')\n          }\n        });\n      });\n  },\n  down: (queryInterface, Sequelize) => {\n    return queryInterface.dropTable('pesan_obrolan');\n  }\n};"],"file":"20190429115932-create-pesan-obrolan.js"}