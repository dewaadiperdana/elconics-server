{"version":3,"sources":["../../../../api/server/src/migrations/20190429115637-create-pesanan.js"],"names":["module","exports","up","queryInterface","Sequelize","sequelize","query","then","createTable","id","allowNull","primaryKey","type","UUID","defaultValue","literal","id_tukang","references","model","key","as","id_pelanggan","id_layanan","id_status","kode_pesanan","STRING","tanggal","DATE","biaya","INTEGER","created_at","updated_at","down","dropTable"],"mappings":"AAAA;;AACAA,MAAM,CAACC,OAAP,GAAiB;AACfC,EAAAA,EAAE,EAAE,YAACC,cAAD,EAAiBC,SAAjB,EAA+B;AACjC,WAAOD,cAAc,CAACE,SAAf,CAAyBC,KAAzB,CAA+B,6CAA/B,EACJC,IADI,CACC,YAAM;AACV,aAAOJ,cAAc,CAACK,WAAf,CAA2B,SAA3B,EAAsC;AAC3CC,QAAAA,EAAE,EAAE;AACFC,UAAAA,SAAS,EAAE,KADT;AAEFC,UAAAA,UAAU,EAAE,IAFV;AAGFC,UAAAA,IAAI,EAAER,SAAS,CAACS,IAHd;AAIFC,UAAAA,YAAY,EAAEV,SAAS,CAACW,OAAV,CAAkB,oBAAlB;AAJZ,SADuC;AAO3CC,QAAAA,SAAS,EAAE;AACTJ,UAAAA,IAAI,EAAER,SAAS,CAACS,IADP;AAETI,UAAAA,UAAU,EAAE;AACVC,YAAAA,KAAK,EAAE,UADG;AAEVC,YAAAA,GAAG,EAAE,IAFK;AAGVC,YAAAA,EAAE,EAAE;AAHM;AAFH,SAPgC;AAe3CC,QAAAA,YAAY,EAAE;AACZT,UAAAA,IAAI,EAAER,SAAS,CAACS,IADJ;AAEZI,UAAAA,UAAU,EAAE;AACVC,YAAAA,KAAK,EAAE,UADG;AAEVC,YAAAA,GAAG,EAAE,IAFK;AAGVC,YAAAA,EAAE,EAAE;AAHM;AAFA,SAf6B;AAuB3CE,QAAAA,UAAU,EAAE;AACVV,UAAAA,IAAI,EAAER,SAAS,CAACS,IADN;AAEVI,UAAAA,UAAU,EAAE;AACVC,YAAAA,KAAK,EAAE,SADG;AAEVC,YAAAA,GAAG,EAAE,IAFK;AAGVC,YAAAA,EAAE,EAAE;AAHM;AAFF,SAvB+B;AA+B3CG,QAAAA,SAAS,EAAE;AACTX,UAAAA,IAAI,EAAER,SAAS,CAACS,IADP;AAETI,UAAAA,UAAU,EAAE;AACVC,YAAAA,KAAK,EAAE,gBADG;AAEVC,YAAAA,GAAG,EAAE,IAFK;AAGVC,YAAAA,EAAE,EAAE;AAHM;AAFH,SA/BgC;AAuC3CI,QAAAA,YAAY,EAAE;AACZZ,UAAAA,IAAI,EAAER,SAAS,CAACqB;AADJ,SAvC6B;AA0C3CC,QAAAA,OAAO,EAAE;AACPd,UAAAA,IAAI,EAAER,SAAS,CAACuB;AADT,SA1CkC;AA6C3CC,QAAAA,KAAK,EAAE;AACLhB,UAAAA,IAAI,EAAER,SAAS,CAACyB;AADX,SA7CoC;AAgD3CC,QAAAA,UAAU,EAAE;AACVpB,UAAAA,SAAS,EAAE,KADD;AAEVE,UAAAA,IAAI,EAAER,SAAS,CAACuB,IAFN;AAGVb,UAAAA,YAAY,EAAEV,SAAS,CAACW,OAAV,CAAkB,OAAlB;AAHJ,SAhD+B;AAqD3CgB,QAAAA,UAAU,EAAE;AACVrB,UAAAA,SAAS,EAAE,KADD;AAEVE,UAAAA,IAAI,EAAER,SAAS,CAACuB,IAFN;AAGVb,UAAAA,YAAY,EAAEV,SAAS,CAACW,OAAV,CAAkB,OAAlB;AAHJ;AArD+B,OAAtC,CAAP;AA2DD,KA7DI,CAAP;AA8DD,GAhEc;AAiEfiB,EAAAA,IAAI,EAAE,cAAC7B,cAAD,EAAiBC,SAAjB,EAA+B;AACnC,WAAOD,cAAc,CAAC8B,SAAf,CAAyB,SAAzB,CAAP;AACD;AAnEc,CAAjB","sourcesContent":["'use strict';\nmodule.exports = {\n  up: (queryInterface, Sequelize) => {\n    return queryInterface.sequelize.query('CREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";')\n      .then(() => {\n        return queryInterface.createTable('pesanan', {\n          id: {\n            allowNull: false,\n            primaryKey: true,\n            type: Sequelize.UUID,\n            defaultValue: Sequelize.literal('uuid_generate_v4()')\n          },\n          id_tukang: {\n            type: Sequelize.UUID,\n            references: {\n              model: 'pengguna',\n              key: 'id',\n              as: 'id_tukang'\n            }\n          },\n          id_pelanggan: {\n            type: Sequelize.UUID,\n            references: {\n              model: 'pengguna',\n              key: 'id',\n              as: 'id_pelanggan'\n            }\n          },\n          id_layanan: {\n            type: Sequelize.UUID,\n            references: {\n              model: 'layanan',\n              key: 'id',\n              as: 'id_layanan'\n            }\n          },\n          id_status: {\n            type: Sequelize.UUID,\n            references: {\n              model: 'status_pesanan',\n              key: 'id',\n              as: 'id_status'\n            }\n          },\n          kode_pesanan: {\n            type: Sequelize.STRING\n          },\n          tanggal: {\n            type: Sequelize.DATE\n          },\n          biaya: {\n            type: Sequelize.INTEGER\n          },\n          created_at: {\n            allowNull: false,\n            type: Sequelize.DATE,\n            defaultValue: Sequelize.literal('NOW()')\n          },\n          updated_at: {\n            allowNull: false,\n            type: Sequelize.DATE,\n            defaultValue: Sequelize.literal('NOW()')\n          }\n        });\n      });\n  },\n  down: (queryInterface, Sequelize) => {\n    return queryInterface.dropTable('pesanan');\n  }\n};"],"file":"20190429115637-create-pesanan.js"}